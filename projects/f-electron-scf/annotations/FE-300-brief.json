{
  "task_id": "FE-300",
  "title": "AI初猜训练数据收集",
  "specialist": "data_agent",

  "goal": "从Phase 1-2的验证计算中系统收集训练数据，建立结构→占据矩阵的映射数据集，为AI模型训练提供基础。",

  "data_schema": {
    "per_sample": {
      "structure": {
        "elements": "List[str] — 元素符号",
        "positions": "ndarray (natom, 3) — 原子坐标 (Å)",
        "cell": "ndarray (3, 3) — 晶格矢量 (Å)",
        "pbc": "List[bool] — 周期性边界条件"
      },
      "rare_earth_atoms": [
        {
          "atom_index": "int",
          "element": "str",
          "oxidation_state": "int — 推断的氧化态",
          "coordination_number": "int",
          "nearest_neighbors": "List[str] — 近邻元素",
          "bond_lengths": "List[float] — 近邻键长 (Å)",
          "occup_matrix": "ndarray (7, 7) or (14, 14) — 收敛后的占据矩阵",
          "f_electron_count": "float — Tr(occup_matrix)",
          "spin_moment": "float — 自旋磁矩 (μB)",
          "orbital_eigenvalues": "List[float] — 占据矩阵本征值"
        }
      ],
      "scf_info": {
        "converged": "bool",
        "n_scf_steps": "int",
        "total_energy": "float (eV)",
        "hubbard_u": "float (eV)",
        "functional": "str — PBE/PBE+U",
        "basis_type": "str — PW/LCAO",
        "ecutwfc": "float (Ry)"
      }
    }
  },

  "data_sources": [
    "FE-101: CeO2, Gd2O3, La2O3 验证计算",
    "FE-400: 简单氧化物验证",
    "FE-401: 合金与磁性化合物验证",
    "FE-402: 表面催化验证",
    "FE-403: 分子催化验证",
    "额外生成：对已有结构做不同U值/不同初始猜测的计算，增加数据多样性"
  ],

  "target_dataset_size": {
    "minimum": 500,
    "target": 2000,
    "composition": {
      "oxides": "40%",
      "alloys": "20%",
      "surfaces": "20%",
      "molecules": "10%",
      "distorted_structures": "10% — 对平衡结构施加随机位移"
    }
  },

  "collection_script": {
    "description": "Python脚本从ABACUS输出文件中提取数据",
    "inputs": ["ABACUS OUT.* 目录", "onsite.dm 文件（占据矩阵）", "STRU 文件（结构）"],
    "outputs": ["JSON/HDF5格式的结构化数据集"],
    "key_parsing": [
      "从running_*.log解析SCF收敛信息",
      "从onsite.dm解析占据矩阵",
      "从STRU解析结构信息",
      "用ASE计算近邻环境特征"
    ]
  },

  "acceptance_criteria": [
    "数据收集脚本可运行，能从ABACUS输出中自动提取所需信息",
    "至少500个数据点，覆盖3种以上化学环境",
    "数据格式统一，可直接用于模型训练",
    "每个数据点包含完整的结构+占据矩阵+SCF信息"
  ]
}
