digraph Dependencies {
  rankdir=LR;
  node [shape=box, style=rounded];

  "PR-1" [label="PR-1\nonsite_projector nspin=1/2 支持", fillcolor="#3498db", style="filled,rounded", penwidth=1];
  "PR-2" [label="PR-2\nDFT+U PW SCF（nspin=4）", fillcolor="#3498db", style="filled,rounded", penwidth=2];
  "PR-3" [label="PR-3\nDFT+U PW nspin=1/2 扩展", fillcolor="#3498db", style="filled,rounded", penwidth=2];
  "PR-4" [label="PR-4\nDFT+U PW force", fillcolor="#3498db", style="filled,rounded", penwidth=2];
  "PR-5" [label="PR-5\nDFT+U PW stress", fillcolor="#3498db", style="filled,rounded", penwidth=1];
  "PR-6" [label="PR-6\nmixing_dftu（占据矩阵 mixing）", fillcolor="#3498db", style="filled,rounded", penwidth=2];
  "PR-7" [label="PR-7\nDFT+U PW GPU/DCU 加速适配", fillcolor="#3498db", style="filled,rounded", penwidth=2];
  "PR-8" [label="PR-8\nmodule_deltaspin 核心移植", fillcolor="#3498db", style="filled,rounded", penwidth=1];
  "PR-9" [label="PR-9\nDeltaSpin LCAO 算符更新", fillcolor="#3498db", style="filled,rounded", penwidth=2];
  "PR-10" [label="PR-10\nDeltaSpin PW 支持", fillcolor="#3498db", style="filled,rounded", penwidth=2];
  "PR-11" [label="PR-11\nDeltaSpin force/stress（LCAO + ...", fillcolor="#3498db", style="filled,rounded", penwidth=2];
  "PR-12" [label="PR-12\nDeltaSpin + DFTU 联合 + conserve...", fillcolor="#3498db", style="filled,rounded", penwidth=2];
  "PR-13" [label="PR-13\nSCF 震荡检测 + 自动回退", fillcolor="#3498db", style="filled,rounded", penwidth=1];
  "PR-14" [label="PR-14\nmixing_restart 与 mixing_dftu 协...", fillcolor="#3498db", style="filled,rounded", penwidth=1];
  "T0-4" [label="T0-4\n收集现有f_in_valence赝势", fillcolor="#3498db", style="filled,rounded", penwidth=1];
  "T1-1" [label="T1-1\n自适应Kerker预处理器", fillcolor="#3498db", style="filled,rounded", penwidth=1];
  "T1-2" [label="T1-2\n分通道mixing_beta", fillcolor="#3498db", style="filled,rounded", penwidth=1];
  "T1-3" [label="T1-3\n能量监控+自动回退", fillcolor="#3498db", style="filled,rounded", penwidth=1];
  "T1-4" [label="T1-4\n规则启发式占据猜测", fillcolor="#3498db", style="filled,rounded", penwidth=1];
  "T2-1" [label="T2-1\n随机占据矩阵初始化+多起点探索", fillcolor="#3498db", style="filled,rounded", penwidth=2];
  "T2-2" [label="T2-2\n占据退火策略", fillcolor="#3498db", style="filled,rounded", penwidth=2];
  "T2-3" [label="T2-3\nConstrained DFT框架", fillcolor="#3498db", style="filled,rounded", penwidth=2];
  "T3-1" [label="T3-1\n用户需求调研", fillcolor="#3498db", style="filled,rounded", penwidth=1];
  "T3-2" [label="T3-2\n选择2-3个代表性验证体系", fillcolor="#3498db", style="filled,rounded", penwidth=1];
  "T3-3" [label="T3-3\n跨代码验证（ABACUS vs VASP）", fillcolor="#3498db", style="filled,rounded", penwidth=2];
  "T3-4" [label="T3-4\n收敛可靠性测试", fillcolor="#3498db", style="filled,rounded", penwidth=1];
  "T4-1" [label="T4-1\n自动参数选择", fillcolor="#3498db", style="filled,rounded", penwidth=1];
  "T4-2" [label="T4-2\n失败诊断+自动重试", fillcolor="#3498db", style="filled,rounded", penwidth=2];
  "T4-3" [label="T4-3\nabacustest工作流集成", fillcolor="#3498db", style="filled,rounded", penwidth=1];
  "T4-4" [label="T4-4\n文档与示例", fillcolor="#3498db", style="filled,rounded", penwidth=1];
  "D-A1" [label="D-A1\nONCVPSP赝势生成环境搭建", fillcolor="#95a5a6", style="filled,rounded", penwidth=3];
  "D-A2" [label="D-A2\n自定义稀土NC赝势生成", fillcolor="#95a5a6", style="filled,rounded", penwidth=3];
  "D-A3" [label="D-A3\n新赝势全面验证", fillcolor="#95a5a6", style="filled,rounded", penwidth=3];
  "D-B1" [label="D-B1\nNAO多zeta轨道生成与测试", fillcolor="#95a5a6", style="filled,rounded", penwidth=2];
  "D-B2" [label="D-B2\nSpillage算法f轨道调优", fillcolor="#95a5a6", style="filled,rounded", penwidth=2];
  "D-C1" [label="D-C1\nML训练数据收集", fillcolor="#95a5a6", style="filled,rounded", penwidth=3];
  "D-C2" [label="D-C2\nGNN占据矩阵模型训练", fillcolor="#95a5a6", style="filled,rounded", penwidth=3];
  "D-C3" [label="D-C3\nABACUS ML集成", fillcolor="#95a5a6", style="filled,rounded", penwidth=3];

  "PR-1" -> "PR-2";
  "PR-1" -> "PR-3";
  "PR-2" -> "PR-3";
  "PR-2" -> "PR-4";
  "PR-4" -> "PR-5";
  "PR-2" -> "PR-6";
  "PR-2" -> "PR-7";
  "PR-3" -> "PR-7";
  "PR-4" -> "PR-7";
  "PR-5" -> "PR-7";
  "PR-8" -> "PR-9";
  "PR-1" -> "PR-10";
  "PR-8" -> "PR-10";
  "PR-9" -> "PR-11";
  "PR-10" -> "PR-11";
  "PR-6" -> "PR-12";
  "PR-9" -> "PR-12";
  "PR-6" -> "PR-13";
  "PR-6" -> "PR-14";
  "PR-13" -> "PR-14";
  "PR-6" -> "T1-1";
  "PR-6" -> "T1-2";
  "PR-6" -> "T1-3";
  "PR-6" -> "T1-4";
  "PR-6" -> "T2-1";
  "T2-1" -> "T2-2";
  "T2-1" -> "T2-3";
  "T3-1" -> "T3-2";
  "T1-1" -> "T3-3";
  "T1-2" -> "T3-3";
  "T1-3" -> "T3-3";
  "T1-4" -> "T3-3";
  "T2-1" -> "T3-3";
  "T3-2" -> "T3-3";
  "T3-3" -> "T3-4";
  "T3-3" -> "T4-1";
  "T3-4" -> "T4-1";
  "T4-1" -> "T4-2";
  "T4-1" -> "T4-3";
  "T4-1" -> "T4-4";
  "D-A1" -> "D-A2";
  "D-A2" -> "D-A3";
  "T0-4" -> "D-B1";
  "D-B1" -> "D-B2";
  "T3-3" -> "D-C1";
  "T3-4" -> "D-C1";
  "D-C1" -> "D-C2";
  "D-C2" -> "D-C3";
}