<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Rare-Earth f-electron Multiscale Simulation Framework (LCAO + deepmodeling) — PM Agent</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;700&family=Crimson+Pro:ital,wght@0,300;0,400;0,600;1,300&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box}

:root{
  --bg:#06080c;
  --bg2:#090c12;
  --surface:#0d1018;
  --card:#111520;
  --card2:#161b26;
  --border:#1c2235;
  --border2:#242d42;
  --text:#d4cfc4;
  --text2:#7a7d8a;
  --text3:#4a4d5a;
  --amber:#f5a623;
  --amber2:#e8941a;
  --amber-dim:#c47d10;
  --amber-bg:rgba(245,166,35,.07);
  --amber-glow:rgba(245,166,35,.15);
  --green:#4ade80;
  --green-bg:rgba(74,222,128,.07);
  --blue:#60a5fa;
  --blue-bg:rgba(96,165,250,.07);
  --orange:#fb923c;
  --orange-bg:rgba(251,146,60,.07);
  --red:#f87171;
  --red-bg:rgba(248,113,113,.07);
  --purple:#c084fc;
  --purple-bg:rgba(192,132,252,.07);
  --gray:#4b5563;
  --gray-bg:rgba(75,85,99,.07);
  --mono:'JetBrains Mono',monospace;
  --serif:'Crimson Pro',Georgia,serif;
}

/* CRT scanline overlay */
body::before{
  content:'';
  position:fixed;top:0;left:0;width:100%;height:100%;
  background:repeating-linear-gradient(
    0deg,
    transparent,
    transparent 2px,
    rgba(0,0,0,.08) 2px,
    rgba(0,0,0,.08) 4px
  );
  pointer-events:none;z-index:9999;
}

body{
  font-family:var(--mono);
  background:var(--bg);
  color:var(--text);
  line-height:1.6;
  min-height:100vh;
  background-image:
    radial-gradient(ellipse 80% 50% at 50% -10%, rgba(245,166,35,.04) 0%, transparent 60%);
}

/* ── HEADER ── */
.header{
  padding:28px 48px 22px;
  border-bottom:1px solid var(--border);
  display:flex;
  align-items:flex-end;
  justify-content:space-between;
  gap:24px;
  position:relative;
  overflow:hidden;
}
.header::after{
  content:'';
  position:absolute;bottom:0;left:0;right:0;height:1px;
  background:linear-gradient(90deg,transparent,var(--amber-dim),transparent);
}
.header-left{}
.header-label{
  font-size:10px;letter-spacing:.2em;color:var(--amber-dim);
  text-transform:uppercase;margin-bottom:6px;
  font-weight:500;
}
.header h1{
  font-family:var(--serif);
  font-size:26px;font-weight:300;
  color:var(--text);
  letter-spacing:.02em;
  line-height:1.2;
}
.header h1 em{
  font-style:italic;color:var(--amber);
}
.header-right{
  text-align:right;
  font-size:11px;color:var(--text3);
  line-height:1.8;
}
.header-right .proj-id{
  font-size:13px;color:var(--amber-dim);letter-spacing:.05em;
}

/* ── STATS BAR ── */
.stats-bar{
  display:flex;gap:1px;
  border-bottom:1px solid var(--border);
  background:var(--border);
}
.stat-card{
  background:var(--surface);
  padding:18px 28px;
  flex:1;min-width:100px;
  position:relative;
  transition:background .15s;
}
.stat-card:hover{background:var(--card)}
.stat-card .label{
  font-size:9px;letter-spacing:.18em;
  color:var(--text3);text-transform:uppercase;
  margin-bottom:8px;font-weight:500;
}
.stat-card .value{
  font-size:32px;font-weight:300;
  font-family:var(--mono);
  line-height:1;
}
.stat-card .unit{
  font-size:9px;color:var(--text3);
  margin-top:4px;letter-spacing:.1em;
}
.stat-card .value.total{color:var(--amber)}
.stat-card .value.pending{color:var(--blue)}
.stat-card .value.progress{color:var(--orange)}
.stat-card .value.review{color:var(--purple)}
.stat-card .value.done{color:var(--green)}
.stat-card .value.deferred{color:var(--gray)}
.stat-card .value.failed{color:var(--red)}

/* progress bar inside stat */
.stat-bar{
  position:absolute;bottom:0;left:0;height:2px;
  background:currentColor;opacity:.4;
  transition:width .6s cubic-bezier(.4,0,.2,1);
}

/* ── TABS ── */
.tabs{
  display:flex;gap:0;
  border-bottom:1px solid var(--border);
  background:var(--bg2);
  padding:0 48px;
}
.tab{
  padding:13px 22px;cursor:pointer;
  font-size:11px;font-weight:500;
  letter-spacing:.12em;text-transform:uppercase;
  color:var(--text3);
  border:none;background:none;
  border-bottom:2px solid transparent;
  transition:all .15s;
  position:relative;
}
.tab:hover{color:var(--text2)}
.tab.active{color:var(--amber);border-bottom-color:var(--amber)}

/* ── CONTENT ── */
.content{padding:32px 48px 80px}
.view{display:none}
.view.active{display:block}

/* ── KANBAN ── */
.kanban{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:16px}
.column{
  background:var(--surface);
  border:1px solid var(--border);
  border-top:2px solid var(--border2);
}
.column-header{
  display:flex;justify-content:space-between;align-items:center;
  padding:12px 16px;
  border-bottom:1px solid var(--border);
  background:var(--card);
}
.column-header .title{
  font-size:10px;letter-spacing:.15em;text-transform:uppercase;
  color:var(--text2);font-weight:500;
}
.column-header .count{
  font-size:11px;color:var(--amber-dim);
  font-family:var(--mono);
}
.column-body{padding:12px}

/* ── TASK CARD ── */
.task-card{
  background:var(--card);
  border:1px solid var(--border);
  padding:12px 14px;
  margin-bottom:8px;
  cursor:pointer;
  transition:border-color .12s, background .12s;
  position:relative;
  /* corner cut */
  clip-path:polygon(0 0, calc(100% - 10px) 0, 100% 10px, 100% 100%, 0 100%);
}
.task-card::before{
  content:'';
  position:absolute;top:0;left:0;right:0;height:1px;
  background:linear-gradient(90deg,var(--status-color,var(--border2)),transparent);
  opacity:.6;
}
.task-card:hover{
  background:var(--card2);
  border-color:var(--border2);
}
.task-card:hover::before{opacity:1}

.task-card.status-pending{--status-color:var(--blue)}
.task-card.status-in_progress{--status-color:var(--orange)}
.task-card.status-in_review{--status-color:var(--purple)}
.task-card.status-done{--status-color:var(--green)}
.task-card.status-deferred{--status-color:var(--gray)}
.task-card.status-failed{--status-color:var(--red)}
.task-card.status-terminated{--status-color:var(--red)}

.task-card .task-header{
  display:flex;align-items:center;gap:8px;margin-bottom:7px;
}
.task-card .task-id{
  font-size:10px;color:var(--amber-dim);
  letter-spacing:.06em;font-weight:500;
}
.status-dot{
  width:6px;height:6px;border-radius:50%;
  background:var(--status-color,var(--border2));
  flex-shrink:0;
}
.status-dot.pulse{
  animation:pulse 2s ease-in-out infinite;
}
@keyframes pulse{
  0%,100%{opacity:1;box-shadow:0 0 0 0 var(--status-color)}
  50%{opacity:.7;box-shadow:0 0 0 4px transparent}
}
.task-card .task-title{
  font-size:12px;line-height:1.5;
  color:var(--text);font-family:var(--serif);
  font-weight:300;letter-spacing:.01em;
  margin-bottom:8px;
}
.task-card .task-meta{display:flex;gap:5px;flex-wrap:wrap}

/* ── BADGES ── */
.badge{
  font-size:9px;padding:2px 7px;
  letter-spacing:.08em;text-transform:uppercase;
  font-weight:500;font-family:var(--mono);
  border:1px solid currentColor;
  opacity:.8;
}
.badge.layer{color:var(--orange);border-color:rgba(251,146,60,.3);background:var(--orange-bg)}
.badge.risk-low{color:var(--green);border-color:rgba(74,222,128,.3);background:var(--green-bg)}
.badge.risk-medium{color:var(--orange);border-color:rgba(251,146,60,.3);background:var(--orange-bg)}
.badge.risk-high{color:var(--red);border-color:rgba(248,113,113,.3);background:var(--red-bg)}
.badge.type{color:var(--purple);border-color:rgba(192,132,252,.3);background:var(--purple-bg)}
.badge.batch{color:var(--blue);border-color:rgba(96,165,250,.3);background:var(--blue-bg)}
.badge.phase{color:var(--amber-dim);border-color:rgba(245,166,35,.3);background:var(--amber-bg)}

/* ── TIMELINE ── */
.timeline{}
.phase-section{margin-bottom:32px}
.phase-header{
  font-size:10px;letter-spacing:.2em;text-transform:uppercase;
  color:var(--amber-dim);font-weight:500;
  padding:10px 0;
  border-bottom:1px solid var(--border);
  margin-bottom:14px;
  display:flex;align-items:center;gap:12px;
}
.phase-header::before{
  content:'';width:20px;height:1px;background:var(--amber-dim);
}
.phase-tasks{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(240px,1fr));
  gap:8px;
  padding-left:32px;
}

/* ── GRAPH ── */
.graph-container{}
.graph-container h2{
  font-size:10px;letter-spacing:.2em;text-transform:uppercase;
  color:var(--amber-dim);margin-bottom:20px;
  padding-bottom:10px;border-bottom:1px solid var(--border);
}
#dep-graph-svg{
  width:100%;min-height:400px;
  border:1px solid var(--border);
  background:var(--surface);
  padding:20px;overflow:auto;
}
#dep-graph-svg svg{max-width:100%}
.graph-fallback{padding:48px;text-align:center;color:var(--text3)}
.graph-fallback p{font-size:12px;margin-bottom:16px}
.graph-fallback pre{
  text-align:left;background:var(--card);
  padding:16px;border:1px solid var(--border);
  overflow-x:auto;font-size:11px;color:var(--text2);
  line-height:1.7;
}

/* ── DEFERRED ── */
.deferred-section{}
.deferred-section h2{
  font-size:10px;letter-spacing:.2em;text-transform:uppercase;
  color:var(--amber-dim);margin-bottom:20px;
  padding-bottom:10px;border-bottom:1px solid var(--border);
}
.deferred-card{
  background:var(--surface);
  border:1px solid var(--border);
  border-left:2px solid var(--orange);
  padding:16px 20px;margin-bottom:10px;
  cursor:pointer;
  transition:background .12s;
  clip-path:polygon(0 0, calc(100% - 12px) 0, 100% 12px, 100% 100%, 0 100%);
}
.deferred-card:hover{background:var(--card)}
.deferred-card .task-id{font-size:10px;color:var(--amber-dim);margin-bottom:6px}
.deferred-card .task-title{font-size:14px;font-family:var(--serif);font-weight:300;margin-bottom:10px}
.deferred-card .task-meta{display:flex;gap:5px;flex-wrap:wrap;margin-bottom:10px}
.trigger-info{
  background:rgba(251,146,60,.05);
  border:1px solid rgba(251,146,60,.15);
  padding:10px 14px;font-size:11px;
}
.trigger-label{
  font-size:9px;letter-spacing:.15em;text-transform:uppercase;
  color:var(--orange);margin-bottom:4px;font-weight:500;
}

/* ── MODAL ── */
.modal-overlay{
  display:none;position:fixed;
  top:0;left:0;width:100%;height:100%;
  background:rgba(0,0,0,.75);
  z-index:1000;align-items:center;justify-content:center;
  backdrop-filter:blur(2px);
}
.modal-overlay.active{display:flex}
.modal{
  background:var(--surface);
  border:1px solid var(--border2);
  padding:0;
  max-width:660px;width:90%;max-height:82vh;
  overflow-y:auto;
  position:relative;
}
.modal::before{
  content:'';position:absolute;top:0;left:0;right:0;height:2px;
  background:linear-gradient(90deg,transparent,var(--amber),transparent);
}
.modal-header{
  display:flex;justify-content:space-between;align-items:flex-start;
  padding:24px 28px 18px;
  border-bottom:1px solid var(--border);
}
.modal-header .modal-id{
  font-size:10px;color:var(--amber-dim);letter-spacing:.1em;margin-bottom:6px;
}
.modal-header h3{
  font-family:var(--serif);font-size:18px;font-weight:300;
  color:var(--text);line-height:1.3;
}
.modal-close{
  background:none;border:1px solid var(--border);
  color:var(--text3);font-size:16px;cursor:pointer;
  padding:4px 10px;transition:all .12s;flex-shrink:0;margin-left:16px;
}
.modal-close:hover{border-color:var(--amber-dim);color:var(--amber)}
.modal-body{padding:20px 28px 28px}
.modal-section{margin-bottom:20px}
.modal-section h4{
  font-size:9px;letter-spacing:.18em;text-transform:uppercase;
  color:var(--text3);margin-bottom:8px;font-weight:500;
}
.modal-section p,.modal-section li{
  font-size:13px;line-height:1.7;color:var(--text2);
}
.modal-section ul{padding-left:18px}
.modal-section code{
  background:var(--card);border:1px solid var(--border);
  padding:1px 6px;font-size:11px;color:var(--amber-dim);
}
.modal-kv{display:grid;grid-template-columns:auto 1fr;gap:4px 16px}
.modal-kv .k{font-size:11px;color:var(--text3)}
.modal-kv .v{font-size:11px;color:var(--text)}

/* ── SCROLLBAR ── */
::-webkit-scrollbar{width:6px;height:6px}
::-webkit-scrollbar-track{background:var(--bg)}
::-webkit-scrollbar-thumb{background:var(--border2)}
::-webkit-scrollbar-thumb:hover{background:var(--amber-dim)}

/* ── EMPTY STATE ── */
.empty{padding:60px;text-align:center;color:var(--text3);font-size:12px;letter-spacing:.1em}
</style>
</head>
<body>

<div class="header">
  <div class="header-left">
    <div class="header-label">PM Agent / Project Dashboard</div>
    <h1>Rare-Earth f-electron Multiscale Simulation Framework (LCAO + deepmodeling)</h1>
  </div>
  <div class="header-right">
    <div class="proj-id">f-electron-multiscale</div>
    <div>Generated by pm-agent</div>
  </div>
</div>

<div class="stats-bar" id="stats-bar"></div>

<div class="tabs" id="tabs-bar">
  <button class="tab active" data-view="kanban">Kanban</button>
  <button class="tab" data-view="timeline">Timeline</button>
  <button class="tab" data-view="graph">Dependencies</button>
  <button class="tab" data-view="deferred">Deferred</button>
</div>

<div class="content">
  <div id="kanban-view" class="view active"></div>
  <div id="timeline-view" class="view"></div>
  <div id="graph-view" class="view"></div>
  <div id="deferred-view" class="view"></div>
</div>

<div class="modal-overlay" id="modal-overlay">
  <div class="modal">
    <div class="modal-header">
      <div>
        <div class="modal-id" id="modal-id"></div>
        <h3 id="modal-title"></h3>
      </div>
      <button class="modal-close" onclick="closeModal()">&#x2715;</button>
    </div>
    <div class="modal-body" id="modal-body"></div>
  </div>
</div>
<script>
let tasks = [{"id": "FM-001", "title": "LCAO 基组 f 电子收敛性系统测试", "layer": "validation", "type": "validation", "scope": "abacus", "status": "pending", "dependencies": [], "blocks": ["FM-002"], "description": "对 CeO2、Gd2O3、La2O3 分别用 SZ/DZP/TZDP 基组测试 DFT+U SCF 收敛性。记录：(1) 各基组的 SCF 收敛率，(2) 收敛步数，(3) 总能量精度。目的是建立 LCAO f 电子计算的基线数据，明确哪些基组级别可用、哪些不可用。前置条件：f-electron-scf 项目 M1（代码迁移）完成。", "acceptance_criteria": ["三个体系 × 三种基组 = 9 组测试完成", "收敛率、步数、能量精度记录完整", "明确可用基组级别"], "files_to_touch": ["projects/f-electron-multiscale/validation/lcao_baseline/"], "estimated_effort": "1 week", "specialist": "workflow", "risk_level": "low", "external_dependency": "f-electron-scf M1"}, {"id": "FM-002", "title": "LCAO vs PW 精度偏差量化", "layer": "validation", "type": "validation", "scope": "cross_code", "status": "pending", "dependencies": ["FM-001"], "blocks": ["FM-003", "FM-005", "FM-007", "FM-012"], "description": "同一体系（CeO2、Gd2O3）分别用 LCAO 和 PW 基组计算，量化偏差：晶格常数、体模量、带隙、Ce/Gd 4f 占据数。Go/No-Go 门控：LCAO vs PW 偏差 >3% 则触发 FM-003/FM-004（NAO 优化）。", "acceptance_criteria": ["LCAO vs PW 偏差量化完成", "Go/No-Go 判定文档产出", "偏差 ≤3% 则确认 LCAO 可用"], "files_to_touch": ["projects/f-electron-multiscale/validation/lcao_vs_pw/"], "estimated_effort": "1 week", "specialist": "workflow", "risk_level": "medium"}, {"id": "FM-003", "title": "NAO 多 zeta f 轨道生成与测试", "layer": "workflow", "type": "extend", "scope": "abacus", "status": "pending", "dependencies": ["FM-002"], "blocks": ["FM-004"], "description": "条件触发：FM-002 门控判定 LCAO vs PW 偏差 >3%。使用 ABACUS 的 NAO 生成工具，针对稀土元素（Ce、Gd、La、Nd、Sm、Eu）生成优化的多 zeta 基组。重点优化 4f 轨道的径向函数。迁移自原 FE-D-B1。", "acceptance_criteria": ["稀土元素 NAO 基组生成完成", "4f 轨道径向函数优化", "新基组 vs 旧基组精度对比"], "files_to_touch": [], "estimated_effort": "1-2 weeks", "specialist": "abacus-develop", "risk_level": "medium", "defer_trigger": "FM-002:lcao_pw_deviation_above_3pct"}, {"id": "FM-004", "title": "Spillage 算法 f 轨道调优", "layer": "algorithm", "type": "algorithm", "scope": "abacus", "status": "pending", "dependencies": ["FM-003"], "blocks": [], "description": "条件触发：FM-003 完成后如果 spillage 值仍然偏高。调优 spillage 算法中 f 轨道的权重和截断参数。迁移自原 FE-D-B2。", "acceptance_criteria": ["f 轨道 spillage 值降低到可接受范围", "优化后基组通过精度验证"], "files_to_touch": [], "estimated_effort": "1-2 weeks", "specialist": "abacus-develop", "risk_level": "medium", "defer_trigger": "FM-003:spillage_issue_detected"}, {"id": "FM-005", "title": "DFT+U+V 可行性评估", "layer": "core", "type": "research", "scope": "abacus", "status": "pending", "dependencies": ["FM-002"], "blocks": ["FM-006"], "description": "调研 QE hp.x 的站间 Hubbard (DFT+U+V) 实现方案，评估在 ABACUS 中实现的：(1) 技术可行性（LCAO 基组下的站间 Hubbard 矩阵元计算），(2) 工作量估计，(3) 对 f 电子体系的预期改进（文献调研）。DFT+U+V 是 DFT+U 方法学的真正前沿，VASP 也没有实现。Go/No-Go：如果评估工作量 >4 周，降级为可行性报告不做原型。", "acceptance_criteria": ["QE hp.x 实现方案调研完成", "ABACUS 实现可行性评估报告", "工作量估计和 Go/No-Go 判定"], "files_to_touch": ["projects/f-electron-multiscale/research/dftuv_feasibility/"], "estimated_effort": "1 week", "specialist": "abacus-develop", "risk_level": "medium"}, {"id": "FM-006", "title": "DFT+U+V 原型实现", "layer": "algorithm", "type": "algorithm", "scope": "abacus", "status": "pending", "dependencies": ["FM-005"], "blocks": ["FM-014"], "description": "条件：FM-005 评估可行且工作量 ≤4 周。在 ABACUS LCAO 框架下实现 DFT+U+V 原型：(1) 站间 Hubbard 矩阵元计算，(2) 站间交换相互作用 V 参数支持，(3) 至少对 CeO2 验证 DFT+U+V vs DFT+U 的改进。这是 ABACUS 相对于 VASP 的方法学领先点。", "acceptance_criteria": ["DFT+U+V LCAO 原型可运行", "CeO2 DFT+U+V 计算完成", "与 DFT+U 结果对比，量化改进"], "files_to_touch": ["source/source_lcao/module_dftu/"], "estimated_effort": "2-3 weeks", "specialist": "abacus-develop", "risk_level": "high"}, {"id": "FM-007", "title": "大规模稀土 LCAO 性能基准", "layer": "validation", "type": "validation", "scope": "abacus", "status": "pending", "dependencies": ["FM-002"], "blocks": ["FM-010"], "description": "展示 ABACUS LCAO 在大规模稀土体系上的计算能力优势——这是 VASP（纯 PW）做不到的。测试体系：(1) CeO2 (111) 表面 slab，100-500 原子，(2) 记录计算时间、内存占用、SCF 收敛性，(3) 与 PW 计算成本对比，量化 LCAO 的成本优势。目标：证明 LCAO 可以处理 VASP 无法处理的规模。", "acceptance_criteria": ["100 原子 CeO2 slab LCAO DFT+U 计算成功收敛", "计算成本 LCAO vs PW 对比数据", "性能基准报告"], "files_to_touch": ["projects/f-electron-multiscale/validation/large_scale_benchmark/"], "estimated_effort": "1-2 weeks", "specialist": "workflow", "risk_level": "medium"}, {"id": "FM-008", "title": "自定义稀土 NC 赝势生成", "layer": "workflow", "type": "extend", "scope": "external", "status": "pending", "dependencies": [], "blocks": ["FM-009"], "description": "条件触发：f-electron-scf 项目 M0 赝势验证偏差 >5%。搭建 ONCVPSP 环境并生成自定义稀土 NC 赝势（Ce、Gd、La、Nd、Sm、Eu）。包含 f_in_valence 配置优化。迁移自原 FE-D-A1 + FE-D-A2（合并环境搭建和赝势生成）。", "acceptance_criteria": ["ONCVPSP 环境可用", "至少 Ce、Gd、La 三种元素赝势生成", "赝势 transferability 测试通过"], "files_to_touch": [], "estimated_effort": "2-3 weeks", "specialist": "workflow", "risk_level": "high", "defer_trigger": "f-electron-scf:M0_pseudopotential_deviation_above_5pct"}, {"id": "FM-009", "title": "新赝势全面验证", "layer": "validation", "type": "validation", "scope": "cross_code", "status": "pending", "dependencies": ["FM-008"], "blocks": [], "description": "对 FM-008 生成的自定义赝势做全面验证：(1) 与 PseudoDojo/SG15 对比，(2) 与全电子参考对比，(3) 多体系 transferability 测试。迁移自原 FE-D-A3。", "acceptance_criteria": ["新赝势 vs 旧赝势精度对比", "与全电子参考偏差 <2%", "至少 3 个体系 transferability 验证"], "files_to_touch": [], "estimated_effort": "1-2 weeks", "specialist": "workflow", "risk_level": "high"}, {"id": "FM-010", "title": "ABACUS DFT+U → DeePMD-kit 训练数据工作流", "layer": "workflow", "type": "new", "scope": "cross_code", "status": "pending", "dependencies": ["FM-007"], "blocks": ["FM-011"], "description": "设计并实现从 ABACUS DFT+U LCAO 计算到 DeePMD-kit 训练集的自动化工作流：(1) ABACUS 输出格式转换为 DeePMD-kit 训练数据格式（能量、力、应力、virial），(2) 自动化批量计算脚本（AIMD 或 结构扰动），(3) 数据质量检查（异常值检测、覆盖度评估）。这是 deepmodeling 生态首次实现稀土材料的 DFT→MLP 数据管线。", "acceptance_criteria": ["ABACUS → DeePMD-kit 数据转换工具可用", "批量计算脚本可运行", "至少生成 CeO2 的训练数据集"], "files_to_touch": [], "estimated_effort": "2 weeks", "specialist": "workflow", "risk_level": "medium"}, {"id": "FM-011", "title": "稀土体系 MLP 质量验证", "layer": "validation", "type": "validation", "scope": "cross_code", "status": "pending", "dependencies": ["FM-010"], "blocks": ["FM-013"], "description": "用 FM-010 生成的训练数据训练 DeePMD-kit MLP 模型，验证对稀土体系的精度：(1) 能量 RMSE，(2) 力 RMSE（目标 <50 meV/Å），(3) 应力精度，(4) 与 DFT 参考的结构优化对比。Go/No-Go：力精度 >100 meV/Å 则调整训练策略或降级为概念验证。", "acceptance_criteria": ["MLP 模型训练完成", "力 RMSE <50 meV/Å", "结构优化与 DFT 参考一致"], "files_to_touch": [], "estimated_effort": "1-2 weeks", "specialist": "workflow", "risk_level": "high"}, {"id": "FM-012", "title": "DeePTB f 电子紧束缚模型探索", "layer": "core", "type": "research", "scope": "cross_code", "status": "pending", "dependencies": ["FM-002"], "blocks": [], "description": "探索性研究：DeePTB 能否学习 f 电子的紧束缚哈密顿量。(1) 调研 DeePTB 对 d 电子体系的已有结果，(2) 评估 f 轨道（7 个 m_l 分量）对 DeePTB 模型复杂度的影响，(3) 如果可行，对 CeO2 做概念验证。这是探索性任务，允许结论为'当前不可行'。", "acceptance_criteria": ["DeePTB f 电子可行性评估报告", "如可行：CeO2 概念验证", "如不可行：明确技术瓶颈和未来方向"], "files_to_touch": [], "estimated_effort": "2-3 weeks", "specialist": "workflow", "risk_level": "high"}, {"id": "FM-013", "title": "大规模稀土 MD 演示", "layer": "workflow", "type": "new", "scope": "cross_code", "status": "pending", "dependencies": ["FM-011"], "blocks": ["FM-014"], "description": "使用 FM-011 验证通过的 MLP 模型，运行 1000+ 原子稀土体系的 MD 模拟演示。体系选择：CeO2 纳米颗粒或 CeO2 表面吸附。展示 deepmodeling 生态的端到端能力：ABACUS DFT+U → DeePMD-kit MLP → LAMMPS MD。", "acceptance_criteria": ["1000+ 原子 MD 模拟成功运行", "MD 轨迹物理合理（RDF、MSD 等）", "端到端工作流文档"], "files_to_touch": [], "estimated_effort": "1-2 weeks", "specialist": "workflow", "risk_level": "medium"}, {"id": "FM-014", "title": "方法学论文撰写", "layer": "core", "type": "new", "scope": "cross_code", "status": "pending", "dependencies": ["FM-006", "FM-013"], "blocks": ["FM-015"], "description": "撰写方法学论文，内容覆盖：(1) ABACUS LCAO DFT+U 稀土计算能力与大规模基准，(2) DFT+U+V 原型实现与验证（如完成），(3) DFT→MLP→MD 多尺度工作流，(4) 与 VASP/QE 的差异化对比。目标期刊：JCTC 或 CPC。", "acceptance_criteria": ["论文初稿完成", "所有计算数据和图表就绪", "合作者审阅通过"], "files_to_touch": [], "estimated_effort": "2 weeks", "specialist": "tech-writer", "risk_level": "low"}, {"id": "FM-015", "title": "文档与开源工具链", "layer": "workflow", "type": "new", "scope": "cross_code", "status": "pending", "dependencies": ["FM-014"], "blocks": [], "description": "整理项目产出为可复现的开源工具链：(1) LCAO f 电子计算最佳实践文档，(2) DFT→MLP 数据管线使用指南，(3) 示例输入文件和脚本，(4) 基准数据集发布。", "acceptance_criteria": ["文档完整可读", "示例可复现", "工具链发布"], "files_to_touch": [], "estimated_effort": "1 week", "specialist": "tech-writer", "risk_level": "low"}];

/* ── INIT ── */
function init() {
  renderStats();
  renderKanban();
  renderTimeline();
  renderGraph();
  renderDeferred();
  bindTabs();
}

/* ── STATS ── */
function renderStats() {
  const bar = document.getElementById('stats-bar');
  const total = tasks.length;
  const counts = {
    pending:     tasks.filter(t => t.status === 'pending').length,
    in_progress: tasks.filter(t => t.status === 'in_progress').length,
    in_review:   tasks.filter(t => t.status === 'in_review').length,
    done:        tasks.filter(t => t.status === 'done').length,
    deferred:    tasks.filter(t => t.status === 'deferred').length,
    failed:      tasks.filter(t => t.status === 'failed' || t.status === 'terminated').length,
  };
  const doneRatio = total ? counts.done / total : 0;
  const specs = [
    {label:'Total',    val:total,             cls:'total',    pct: 1},
    {label:'Pending',  val:counts.pending,    cls:'pending',  pct: total ? counts.pending/total : 0},
    {label:'Active',   val:counts.in_progress,cls:'progress', pct: total ? counts.in_progress/total : 0},
    {label:'Review',   val:counts.in_review,  cls:'review',   pct: total ? counts.in_review/total : 0},
    {label:'Done',     val:counts.done,       cls:'done',     pct: doneRatio},
    {label:'Deferred', val:counts.deferred,   cls:'deferred', pct: total ? counts.deferred/total : 0},
    {label:'Failed',   val:counts.failed,     cls:'failed',   pct: total ? counts.failed/total : 0},
  ];
  bar.innerHTML = specs.map(s =>
    `<div class="stat-card">
      <div class="label">${s.label}</div>
      <div class="value ${s.cls}">${s.val}</div>
      <div class="unit">tasks</div>
      <div class="stat-bar" style="width:${(s.pct*100).toFixed(1)}%;color:var(--${s.cls==='total'?'amber':s.cls==='progress'?'orange':s.cls==='review'?'purple':s.cls})"></div>
    </div>`
  ).join('');
}

/* ── GROUPING ── */
function detectGrouping() {
  const hasPhase = tasks.some(t => t.phase || (t.id && /^[A-Z]+-\d/.test(t.id)));
  const hasBatch = tasks.some(t => t.batch !== undefined && t.batch !== null);
  if (hasPhase) return 'phase';
  if (hasBatch) return 'batch';
  return 'status';
}

function groupByPhase() {
  const groups = {};
  tasks.forEach(t => {
    let phase = t.phase || '';
    if (!phase && t.id) {
      const m = t.id.match(/^[A-Z]+-(\d)/);
      if (m) phase = 'Phase ' + m[1];
      else if (t.id.match(/^[A-Z]+-D/)) phase = 'Deferred';
    }
    if (!phase) phase = 'Other';
    (groups[phase] = groups[phase] || []).push(t);
  });
  return groups;
}

function groupByBatch() {
  const groups = {};
  tasks.forEach(t => {
    const batch = t.batch !== undefined ? 'Batch ' + t.batch : 'Unassigned';
    (groups[batch] = groups[batch] || []).push(t);
  });
  return groups;
}

function groupByStatus() {
  const order = ['pending','in_progress','in_review','done','deferred','failed'];
  const labels = {pending:'Pending',in_progress:'In Progress',in_review:'In Review',done:'Done',deferred:'Deferred',failed:'Failed'};
  const groups = {};
  order.forEach(s => { groups[labels[s]] = []; });
  tasks.forEach(t => {
    const label = labels[t.status] || t.status || 'Pending';
    (groups[label] = groups[label] || []).push(t);
  });
  return groups;
}

/* ── TASK CARD ── */
function statusDot(status) {
  const pulse = status === 'in_progress' || status === 'in_review';
  return `<span class="status-dot${pulse?' pulse':''}" style="--status-color:var(--${
    status==='pending'?'blue':status==='in_progress'?'orange':status==='in_review'?'purple':
    status==='done'?'green':status==='deferred'?'gray':'red'
  })"></span>`;
}

function taskCard(t) {
  let meta = '';
  if (t.layer)       meta += `<span class="badge layer">${t.layer}</span>`;
  if (t.type)        meta += `<span class="badge type">${t.type}</span>`;
  if (t.risk_level)  meta += `<span class="badge risk-${t.risk_level}">${t.risk_level}</span>`;
  if (t.batch !== undefined && t.batch !== null) meta += `<span class="badge batch">B${t.batch}</span>`;
  return `<div class="task-card status-${t.status}" data-id="${esc(t.id)}">
    <div class="task-header">
      ${statusDot(t.status)}
      <span class="task-id">${esc(t.id)}</span>
    </div>
    <div class="task-title">${esc(t.title)}</div>
    <div class="task-meta">${meta}</div>
  </div>`;
}

/* ── KANBAN ── */
function renderKanban() {
  const view = document.getElementById('kanban-view');
  const strategy = detectGrouping();
  const groups = strategy === 'phase' ? groupByPhase()
               : strategy === 'batch' ? groupByBatch()
               : groupByStatus();
  let html = '<div class="kanban">';
  for (const [name, items] of Object.entries(groups)) {
    if (items.length === 0) continue;
    html += `<div class="column">
      <div class="column-header">
        <span class="title">${esc(name)}</span>
        <span class="count">${items.length}</span>
      </div>
      <div class="column-body">`;
    items.forEach(t => { html += taskCard(t); });
    html += '</div></div>';
  }
  html += '</div>';
  view.innerHTML = html;
  bindCardClicks(view);
}

/* ── TIMELINE ── */
function renderTimeline() {
  const view = document.getElementById('timeline-view');
  const groups = groupByPhase();
  let html = '';
  for (const [name, items] of Object.entries(groups)) {
    const active = items.filter(t => t.status !== 'deferred');
    if (active.length === 0) continue;
    html += `<div class="phase-section">
      <div class="phase-header">${esc(name)} <span style="color:var(--text3)">(${active.length})</span></div>
      <div class="phase-tasks">`;
    active.forEach(t => { html += taskCard(t); });
    html += '</div></div>';
  }
  view.innerHTML = html || '<div class="empty">No tasks</div>';
  bindCardClicks(view);
}

/* ── GRAPH ── */
function renderGraph() {
  const view = document.getElementById('graph-view');
  const withDeps = tasks.filter(t =>
    (t.dependencies && t.dependencies.length > 0) ||
    tasks.some(o => (o.dependencies || []).includes(t.id))
  );

  let dot = 'digraph G {\\n  rankdir=LR;\\n';
  const statusColor = {
    pending:'#60a5fa',in_progress:'#fb923c',in_review:'#c084fc',
    done:'#4ade80',deferred:'#4b5563',failed:'#f87171'
  };
  tasks.forEach(t => {
    const c = statusColor[t.status] || '#60a5fa';
    const label = t.id + '\\\\n' + (t.title||'').substring(0,24);
    dot += `  "${t.id}" [label="${label}" fillcolor="${c}" style="filled,rounded" shape=box fontname="monospace" fontsize=10];\\n`;
  });
  tasks.forEach(t => {
    (t.dependencies||[]).forEach(d => { dot += `  "${d}" -> "${t.id}";\\n`; });
    (t.suspended_dependencies||[]).forEach(d => { dot += `  "${d}" -> "${t.id}" [style=dashed color="#4b5563"];\\n`; });
  });
  dot += '}';

  let html = '<div class="graph-container"><h2>Task Dependencies</h2><div id="dep-graph-svg">';
  const inlineSvg = document.getElementById('embedded-svg');
  if (inlineSvg && inlineSvg.textContent.trim()) {
    html += inlineSvg.textContent;
  } else if (withDeps.length === 0) {
    html += '<div class="graph-fallback"><p>No dependency information available.</p></div>';
  } else {
    html += `<div class="graph-fallback">
      <p>Run <code>python -m tools.generate_graph</code> to render SVG.</p>
      <pre>${dot.replace(/\\n/g,'\n')}</pre>
    </div>`;
  }
  html += '</div></div>';
  view.innerHTML = html;
}

/* ── DEFERRED ── */
function renderDeferred() {
  const view = document.getElementById('deferred-view');
  const deferred = tasks.filter(t => t.status === 'deferred');
  let html = '<div class="deferred-section"><h2>Deferred Tasks</h2>';
  if (deferred.length === 0) {
    html += '<div class="empty">No deferred tasks</div>';
  } else {
    deferred.forEach(t => {
      let meta = '';
      if (t.layer)      meta += `<span class="badge layer">${t.layer}</span>`;
      if (t.risk_level) meta += `<span class="badge risk-${t.risk_level}">${t.risk_level}</span>`;
      html += `<div class="deferred-card" data-id="${esc(t.id)}">
        <div class="task-id">${esc(t.id)}</div>
        <div class="task-title">${esc(t.title)}</div>
        <div class="task-meta">${meta}</div>`;
      if (t.defer_trigger) {
        html += `<div class="trigger-info">
          <div class="trigger-label">Trigger Condition</div>
          <div>${esc(t.defer_trigger)}</div>
        </div>`;
      }
      if (t.description) {
        html += `<div style="margin-top:10px;font-size:12px;color:var(--text3)">${esc(t.description).substring(0,200)}</div>`;
      }
      html += '</div>';
    });
  }
  html += '</div>';
  view.innerHTML = html;
  bindCardClicks(view);
}

/* ── MODAL ── */
function showModal(task) {
  document.getElementById('modal-id').textContent = task.id;
  document.getElementById('modal-title').textContent = task.title;
  const statusLabels = {
    pending:'Pending',in_progress:'In Progress',in_review:'In Review',
    done:'Done',deferred:'Deferred',failed:'Failed',terminated:'Terminated'
  };
  let body = '';
  if (task.description) {
    body += `<div class="modal-section"><h4>Description</h4><p>${esc(task.description)}</p></div>`;
  }
  body += `<div class="modal-section"><h4>Metadata</h4><div class="modal-kv">`;
  body += `<span class="k">Status</span><span class="v">${statusLabels[task.status]||task.status}</span>`;
  if (task.layer)     body += `<span class="k">Layer</span><span class="v">${task.layer}</span>`;
  if (task.type)      body += `<span class="k">Type</span><span class="v">${task.type}</span>`;
  if (task.risk_level)body += `<span class="k">Risk</span><span class="v">${task.risk_level}</span>`;
  if (task.specialist)body += `<span class="k">Specialist</span><span class="v">${task.specialist}</span>`;
  if (task.batch !== undefined) body += `<span class="k">Batch</span><span class="v">${task.batch}</span>`;
  body += `</div></div>`;
  if (task.defer_trigger) {
    body += `<div class="modal-section"><h4>Trigger Condition</h4>
      <p style="background:var(--orange-bg);border:1px solid rgba(251,146,60,.2);padding:10px 14px;font-size:12px">${esc(task.defer_trigger)}</p></div>`;
  }
  const deps = task.dependencies || [];
  if (deps.length) {
    body += `<div class="modal-section"><h4>Dependencies (${deps.length})</h4>
      <ul>${deps.map(d=>`<li>${esc(d)}</li>`).join('')}</ul></div>`;
  }
  const criteria = task.acceptance_criteria || [];
  if (criteria.length) {
    body += `<div class="modal-section"><h4>Acceptance Criteria</h4>
      <ul>${criteria.map(c=>`<li>${esc(c)}</li>`).join('')}</ul></div>`;
  }
  const files = task.files_to_touch || [];
  if (files.length) {
    body += `<div class="modal-section"><h4>Files</h4>
      <ul>${files.map(f=>`<li><code>${esc(f)}</code></li>`).join('')}</ul></div>`;
  }
  document.getElementById('modal-body').innerHTML = body;
  document.getElementById('modal-overlay').classList.add('active');
}

function closeModal() {
  document.getElementById('modal-overlay').classList.remove('active');
}

document.getElementById('modal-overlay').addEventListener('click', e => {
  if (e.target.id === 'modal-overlay') closeModal();
});
document.addEventListener('keydown', e => {
  if (e.key === 'Escape') closeModal();
});

/* ── TABS ── */
function bindTabs() {
  document.querySelectorAll('.tab').forEach(tab => {
    tab.addEventListener('click', () => {
      document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
      document.querySelectorAll('.view').forEach(v => v.classList.remove('active'));
      tab.classList.add('active');
      document.getElementById(tab.dataset.view + '-view').classList.add('active');
    });
  });
}

/* ── HELPERS ── */
function esc(s) {
  if (!s) return '';
  const d = document.createElement('div');
  d.textContent = s;
  return d.innerHTML;
}

function bindCardClicks(container) {
  container.querySelectorAll('.task-card, .deferred-card').forEach(card => {
    card.addEventListener('click', () => {
      const task = tasks.find(t => t.id === card.dataset.id);
      if (task) showModal(task);
    });
  });
}

init();
</script>
<!-- Embedded SVG for dependency graph -->
<script type="text/plain" id="embedded-svg"><?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: Dependencies Pages: 1 -->
<svg width="1595pt" height="229pt"
 viewBox="0.00 0.00 1595.00 229.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 225)">
<title>Dependencies</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-225 1591,-225 1591,4 -4,4"/>
<text text-anchor="middle" x="793.5" y="-7.8" font-family="Times,serif" font-size="14.00">Rare&#45;Earth f&#45;electron Multiscale Simulation Framework (LCAO + deepmodeling) Dependency Graph</text>
<!-- FM&#45;001 -->
<g id="node1" class="node">
<title>FM&#45;001</title>
<path fill="#3498db" stroke="black" d="M193,-140C193,-140 12,-140 12,-140 6,-140 0,-134 0,-128 0,-128 0,-116 0,-116 0,-110 6,-104 12,-104 12,-104 193,-104 193,-104 199,-104 205,-110 205,-116 205,-116 205,-128 205,-128 205,-134 199,-140 193,-140"/>
<text text-anchor="middle" x="102.5" y="-125.2" font-family="Times,serif" font-size="11.00">FM&#45;001</text>
<text text-anchor="middle" x="102.5" y="-113.2" font-family="Times,serif" font-size="11.00">LCAO 基组 f 电子收敛性系统测试</text>
</g>
<!-- FM&#45;002 -->
<g id="node2" class="node">
<title>FM&#45;002</title>
<path fill="#3498db" stroke="black" stroke-width="2" d="M397,-140C397,-140 253,-140 253,-140 247,-140 241,-134 241,-128 241,-128 241,-116 241,-116 241,-110 247,-104 253,-104 253,-104 397,-104 397,-104 403,-104 409,-110 409,-116 409,-116 409,-128 409,-128 409,-134 403,-140 397,-140"/>
<text text-anchor="middle" x="325" y="-125.2" font-family="Times,serif" font-size="11.00">FM&#45;002</text>
<text text-anchor="middle" x="325" y="-113.2" font-family="Times,serif" font-size="11.00">LCAO vs PW 精度偏差量化</text>
</g>
<!-- FM&#45;001&#45;&gt;FM&#45;002 -->
<g id="edge1" class="edge">
<title>FM&#45;001&#45;&gt;FM&#45;002</title>
<path fill="none" stroke="black" d="M205.04,-122C213.55,-122 222.14,-122 230.59,-122"/>
<polygon fill="black" stroke="black" points="230.82,-125.5 240.82,-122 230.82,-118.5 230.82,-125.5"/>
</g>
<!-- FM&#45;003 -->
<g id="node3" class="node">
<title>FM&#45;003</title>
<path fill="#3498db" stroke="black" stroke-width="2" d="M621,-221C621,-221 457,-221 457,-221 451,-221 445,-215 445,-209 445,-209 445,-197 445,-197 445,-191 451,-185 457,-185 457,-185 621,-185 621,-185 627,-185 633,-191 633,-197 633,-197 633,-209 633,-209 633,-215 627,-221 621,-221"/>
<text text-anchor="middle" x="539" y="-206.2" font-family="Times,serif" font-size="11.00">FM&#45;003</text>
<text text-anchor="middle" x="539" y="-194.2" font-family="Times,serif" font-size="11.00">NAO 多 zeta f 轨道生成与测试</text>
</g>
<!-- FM&#45;002&#45;&gt;FM&#45;003 -->
<g id="edge2" class="edge">
<title>FM&#45;002&#45;&gt;FM&#45;003</title>
<path fill="none" stroke="black" d="M389,-140.04C395.88,-142.73 402.68,-145.72 409,-149 426.75,-158.22 427.11,-167.07 445,-176 448.72,-177.86 452.6,-179.61 456.55,-181.26"/>
<polygon fill="black" stroke="black" points="455.33,-184.54 465.91,-184.92 457.87,-178.02 455.33,-184.54"/>
</g>
<!-- FM&#45;005 -->
<g id="node5" class="node">
<title>FM&#45;005</title>
<path fill="#3498db" stroke="black" stroke-width="2" d="M598.5,-167C598.5,-167 479.5,-167 479.5,-167 473.5,-167 467.5,-161 467.5,-155 467.5,-155 467.5,-143 467.5,-143 467.5,-137 473.5,-131 479.5,-131 479.5,-131 598.5,-131 598.5,-131 604.5,-131 610.5,-137 610.5,-143 610.5,-143 610.5,-155 610.5,-155 610.5,-161 604.5,-167 598.5,-167"/>
<text text-anchor="middle" x="539" y="-152.2" font-family="Times,serif" font-size="11.00">FM&#45;005</text>
<text text-anchor="middle" x="539" y="-140.2" font-family="Times,serif" font-size="11.00">DFT+U+V 可行性评估</text>
</g>
<!-- FM&#45;002&#45;&gt;FM&#45;005 -->
<g id="edge4" class="edge">
<title>FM&#45;002&#45;&gt;FM&#45;005</title>
<path fill="none" stroke="black" d="M409.18,-132.59C424.98,-134.61 441.48,-136.71 457.2,-138.71"/>
<polygon fill="black" stroke="black" points="457.04,-142.22 467.4,-140.01 457.93,-135.27 457.04,-142.22"/>
</g>
<!-- FM&#45;007 -->
<g id="node7" class="node">
<title>FM&#45;007</title>
<path fill="#3498db" stroke="black" stroke-width="2" d="M613,-113C613,-113 465,-113 465,-113 459,-113 453,-107 453,-101 453,-101 453,-89 453,-89 453,-83 459,-77 465,-77 465,-77 613,-77 613,-77 619,-77 625,-83 625,-89 625,-89 625,-101 625,-101 625,-107 619,-113 613,-113"/>
<text text-anchor="middle" x="539" y="-98.2" font-family="Times,serif" font-size="11.00">FM&#45;007</text>
<text text-anchor="middle" x="539" y="-86.2" font-family="Times,serif" font-size="11.00">大规模稀土 LCAO 性能基准</text>
</g>
<!-- FM&#45;002&#45;&gt;FM&#45;007 -->
<g id="edge6" class="edge">
<title>FM&#45;002&#45;&gt;FM&#45;007</title>
<path fill="none" stroke="black" d="M409.18,-111.41C420.19,-110 431.55,-108.56 442.75,-107.13"/>
<polygon fill="black" stroke="black" points="443.49,-110.56 452.97,-105.83 442.61,-103.62 443.49,-110.56"/>
</g>
<!-- FM&#45;012 -->
<g id="node12" class="node">
<title>FM&#45;012</title>
<path fill="#3498db" stroke="black" stroke-width="3" d="M621,-59C621,-59 457,-59 457,-59 451,-59 445,-53 445,-47 445,-47 445,-35 445,-35 445,-29 451,-23 457,-23 457,-23 621,-23 621,-23 627,-23 633,-29 633,-35 633,-35 633,-47 633,-47 633,-53 627,-59 621,-59"/>
<text text-anchor="middle" x="539" y="-44.2" font-family="Times,serif" font-size="11.00">FM&#45;012</text>
<text text-anchor="middle" x="539" y="-32.2" font-family="Times,serif" font-size="11.00">DeePTB f 电子紧束缚模型探索</text>
</g>
<!-- FM&#45;002&#45;&gt;FM&#45;012 -->
<g id="edge10" class="edge">
<title>FM&#45;002&#45;&gt;FM&#45;012</title>
<path fill="none" stroke="black" d="M362.15,-103.96C385.45,-92.74 416.59,-78.51 445,-68 450.45,-65.98 456.13,-64.02 461.88,-62.13"/>
<polygon fill="black" stroke="black" points="463.12,-65.4 471.57,-59.02 460.98,-58.74 463.12,-65.4"/>
</g>
<!-- FM&#45;004 -->
<g id="node4" class="node">
<title>FM&#45;004</title>
<path fill="#3498db" stroke="black" stroke-width="2" d="M865.5,-221C865.5,-221 735.5,-221 735.5,-221 729.5,-221 723.5,-215 723.5,-209 723.5,-209 723.5,-197 723.5,-197 723.5,-191 729.5,-185 735.5,-185 735.5,-185 865.5,-185 865.5,-185 871.5,-185 877.5,-191 877.5,-197 877.5,-197 877.5,-209 877.5,-209 877.5,-215 871.5,-221 865.5,-221"/>
<text text-anchor="middle" x="800.5" y="-206.2" font-family="Times,serif" font-size="11.00">FM&#45;004</text>
<text text-anchor="middle" x="800.5" y="-194.2" font-family="Times,serif" font-size="11.00">Spillage 算法 f 轨道调优</text>
</g>
<!-- FM&#45;003&#45;&gt;FM&#45;004 -->
<g id="edge3" class="edge">
<title>FM&#45;003&#45;&gt;FM&#45;004</title>
<path fill="none" stroke="black" d="M633.32,-203C659.36,-203 687.53,-203 713.15,-203"/>
<polygon fill="black" stroke="black" points="713.21,-206.5 723.21,-203 713.21,-199.5 713.21,-206.5"/>
</g>
<!-- FM&#45;006 -->
<g id="node6" class="node">
<title>FM&#45;006</title>
<path fill="#3498db" stroke="black" stroke-width="3" d="M1097.5,-167C1097.5,-167 990.5,-167 990.5,-167 984.5,-167 978.5,-161 978.5,-155 978.5,-155 978.5,-143 978.5,-143 978.5,-137 984.5,-131 990.5,-131 990.5,-131 1097.5,-131 1097.5,-131 1103.5,-131 1109.5,-137 1109.5,-143 1109.5,-143 1109.5,-155 1109.5,-155 1109.5,-161 1103.5,-167 1097.5,-167"/>
<text text-anchor="middle" x="1044" y="-152.2" font-family="Times,serif" font-size="11.00">FM&#45;006</text>
<text text-anchor="middle" x="1044" y="-140.2" font-family="Times,serif" font-size="11.00">DFT+U+V 原型实现</text>
</g>
<!-- FM&#45;005&#45;&gt;FM&#45;006 -->
<g id="edge5" class="edge">
<title>FM&#45;005&#45;&gt;FM&#45;006</title>
<path fill="none" stroke="black" d="M610.74,-149C705.11,-149 871.51,-149 968,-149"/>
<polygon fill="black" stroke="black" points="968.27,-152.5 978.27,-149 968.26,-145.5 968.27,-152.5"/>
</g>
<!-- FM&#45;014 -->
<g id="node14" class="node">
<title>FM&#45;014</title>
<path fill="#3498db" stroke="black" d="M1420,-140C1420,-140 1338,-140 1338,-140 1332,-140 1326,-134 1326,-128 1326,-128 1326,-116 1326,-116 1326,-110 1332,-104 1338,-104 1338,-104 1420,-104 1420,-104 1426,-104 1432,-110 1432,-116 1432,-116 1432,-128 1432,-128 1432,-134 1426,-140 1420,-140"/>
<text text-anchor="middle" x="1379" y="-125.2" font-family="Times,serif" font-size="11.00">FM&#45;014</text>
<text text-anchor="middle" x="1379" y="-113.2" font-family="Times,serif" font-size="11.00">方法学论文撰写</text>
</g>
<!-- FM&#45;006&#45;&gt;FM&#45;014 -->
<g id="edge12" class="edge">
<title>FM&#45;006&#45;&gt;FM&#45;014</title>
<path fill="none" stroke="black" d="M1109.6,-143.76C1169.11,-138.94 1256.82,-131.83 1315.61,-127.06"/>
<polygon fill="black" stroke="black" points="1316.19,-130.52 1325.88,-126.23 1315.63,-123.55 1316.19,-130.52"/>
</g>
<!-- FM&#45;010 -->
<g id="node10" class="node">
<title>FM&#45;010</title>
<path fill="#3498db" stroke="black" stroke-width="2" d="M920,-113C920,-113 681,-113 681,-113 675,-113 669,-107 669,-101 669,-101 669,-89 669,-89 669,-83 675,-77 681,-77 681,-77 920,-77 920,-77 926,-77 932,-83 932,-89 932,-89 932,-101 932,-101 932,-107 926,-113 920,-113"/>
<text text-anchor="middle" x="800.5" y="-98.2" font-family="Times,serif" font-size="11.00">FM&#45;010</text>
<text text-anchor="middle" x="800.5" y="-86.2" font-family="Times,serif" font-size="11.00">ABACUS DFT+U → DeePMD&#45;kit 训练数据...</text>
</g>
<!-- FM&#45;007&#45;&gt;FM&#45;010 -->
<g id="edge8" class="edge">
<title>FM&#45;007&#45;&gt;FM&#45;010</title>
<path fill="none" stroke="black" d="M625.33,-95C635.96,-95 647.04,-95 658.24,-95"/>
<polygon fill="black" stroke="black" points="658.55,-98.5 668.55,-95 658.55,-91.5 658.55,-98.5"/>
</g>
<!-- FM&#45;008 -->
<g id="node8" class="node">
<title>FM&#45;008</title>
<path fill="#3498db" stroke="black" stroke-width="3" d="M169,-194C169,-194 36,-194 36,-194 30,-194 24,-188 24,-182 24,-182 24,-170 24,-170 24,-164 30,-158 36,-158 36,-158 169,-158 169,-158 175,-158 181,-164 181,-170 181,-170 181,-182 181,-182 181,-188 175,-194 169,-194"/>
<text text-anchor="middle" x="102.5" y="-179.2" font-family="Times,serif" font-size="11.00">FM&#45;008</text>
<text text-anchor="middle" x="102.5" y="-167.2" font-family="Times,serif" font-size="11.00">自定义稀土 NC 赝势生成</text>
</g>
<!-- FM&#45;009 -->
<g id="node9" class="node">
<title>FM&#45;009</title>
<path fill="#3498db" stroke="black" stroke-width="3" d="M366,-194C366,-194 284,-194 284,-194 278,-194 272,-188 272,-182 272,-182 272,-170 272,-170 272,-164 278,-158 284,-158 284,-158 366,-158 366,-158 372,-158 378,-164 378,-170 378,-170 378,-182 378,-182 378,-188 372,-194 366,-194"/>
<text text-anchor="middle" x="325" y="-179.2" font-family="Times,serif" font-size="11.00">FM&#45;009</text>
<text text-anchor="middle" x="325" y="-167.2" font-family="Times,serif" font-size="11.00">新赝势全面验证</text>
</g>
<!-- FM&#45;008&#45;&gt;FM&#45;009 -->
<g id="edge7" class="edge">
<title>FM&#45;008&#45;&gt;FM&#45;009</title>
<path fill="none" stroke="black" d="M181.24,-176C207.61,-176 236.71,-176 261.72,-176"/>
<polygon fill="black" stroke="black" points="261.8,-179.5 271.8,-176 261.8,-172.5 261.8,-179.5"/>
</g>
<!-- FM&#45;011 -->
<g id="node11" class="node">
<title>FM&#45;011</title>
<path fill="#3498db" stroke="black" stroke-width="3" d="M1108,-113C1108,-113 980,-113 980,-113 974,-113 968,-107 968,-101 968,-101 968,-89 968,-89 968,-83 974,-77 980,-77 980,-77 1108,-77 1108,-77 1114,-77 1120,-83 1120,-89 1120,-89 1120,-101 1120,-101 1120,-107 1114,-113 1108,-113"/>
<text text-anchor="middle" x="1044" y="-98.2" font-family="Times,serif" font-size="11.00">FM&#45;011</text>
<text text-anchor="middle" x="1044" y="-86.2" font-family="Times,serif" font-size="11.00">稀土体系 MLP 质量验证</text>
</g>
<!-- FM&#45;010&#45;&gt;FM&#45;011 -->
<g id="edge9" class="edge">
<title>FM&#45;010&#45;&gt;FM&#45;011</title>
<path fill="none" stroke="black" d="M932.15,-95C940.84,-95 949.46,-95 957.83,-95"/>
<polygon fill="black" stroke="black" points="957.91,-98.5 967.91,-95 957.91,-91.5 957.91,-98.5"/>
</g>
<!-- FM&#45;013 -->
<g id="node13" class="node">
<title>FM&#45;013</title>
<path fill="#3498db" stroke="black" stroke-width="2" d="M1278,-117C1278,-117 1168,-117 1168,-117 1162,-117 1156,-111 1156,-105 1156,-105 1156,-93 1156,-93 1156,-87 1162,-81 1168,-81 1168,-81 1278,-81 1278,-81 1284,-81 1290,-87 1290,-93 1290,-93 1290,-105 1290,-105 1290,-111 1284,-117 1278,-117"/>
<text text-anchor="middle" x="1223" y="-102.2" font-family="Times,serif" font-size="11.00">FM&#45;013</text>
<text text-anchor="middle" x="1223" y="-90.2" font-family="Times,serif" font-size="11.00">大规模稀土 MD 演示</text>
</g>
<!-- FM&#45;011&#45;&gt;FM&#45;013 -->
<g id="edge11" class="edge">
<title>FM&#45;011&#45;&gt;FM&#45;013</title>
<path fill="none" stroke="black" d="M1120.06,-96.7C1128.5,-96.89 1137.11,-97.08 1145.57,-97.27"/>
<polygon fill="black" stroke="black" points="1145.71,-100.78 1155.79,-97.5 1145.87,-93.78 1145.71,-100.78"/>
</g>
<!-- FM&#45;013&#45;&gt;FM&#45;014 -->
<g id="edge13" class="edge">
<title>FM&#45;013&#45;&gt;FM&#45;014</title>
<path fill="none" stroke="black" d="M1290.2,-108.89C1298.67,-110.15 1307.3,-111.44 1315.7,-112.7"/>
<polygon fill="black" stroke="black" points="1315.39,-116.19 1325.8,-114.2 1316.42,-109.26 1315.39,-116.19"/>
</g>
<!-- FM&#45;015 -->
<g id="node15" class="node">
<title>FM&#45;015</title>
<path fill="#3498db" stroke="black" d="M1575,-140C1575,-140 1480,-140 1480,-140 1474,-140 1468,-134 1468,-128 1468,-128 1468,-116 1468,-116 1468,-110 1474,-104 1480,-104 1480,-104 1575,-104 1575,-104 1581,-104 1587,-110 1587,-116 1587,-116 1587,-128 1587,-128 1587,-134 1581,-140 1575,-140"/>
<text text-anchor="middle" x="1527.5" y="-125.2" font-family="Times,serif" font-size="11.00">FM&#45;015</text>
<text text-anchor="middle" x="1527.5" y="-113.2" font-family="Times,serif" font-size="11.00">文档与开源工具链</text>
</g>
<!-- FM&#45;014&#45;&gt;FM&#45;015 -->
<g id="edge14" class="edge">
<title>FM&#45;014&#45;&gt;FM&#45;015</title>
<path fill="none" stroke="black" d="M1432.06,-122C1440.4,-122 1449.13,-122 1457.78,-122"/>
<polygon fill="black" stroke="black" points="1457.87,-125.5 1467.87,-122 1457.87,-118.5 1457.87,-125.5"/>
</g>
</g>
</svg>
</script>
</body>
</html>